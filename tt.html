<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
      html, body {
          padding: 0;
          margin: 0;
      }
  </style>
</head>
<body>
<canvas height="300" width="500"></canvas>

<script type="module">
  const canvas = document.querySelector('canvas')
  const ctx = canvas.getContext('2d')
  ctx.fillStyle = '#ffa'
  ctx.fillRect(0, 0, 500, 300)
  ctx.fillStyle = '#000'
  ctx.font = '20px sans-serif'
  ctx.textBaseline = 'top'
  ctx.fillText('Hello World!', 195, 80)
  ctx.strokeStyle = '#000'
  ctx.strokeRect(5, 5, 490, 290)

  /**
   * 着色器对象
   * @param typeIn 着色器类型
   * @param textIn 着色器代码
   * @constructor
   */
  function shaderObject (typeIn, textIn) {
    this.type = typeIn
    this.text = textIn
  }

  /** 存储着色器数组 */
  const shaderStrArray = ['a', 'a']
  // 数组索引值
  let shaderNumberCount = 0
  // 着色器名称数组
  const shaderTypeName = ['vertex', 'fragment']

  function processLoadShader (req, index) {
    if (req.readyState === 4) {
      let shaderStr = req.responseText // 获取响应文本
      shaderStrArray[shaderNumberCount] = new shaderObject(shaderTypeName[shaderNumberCount], shaderStr) // 存储着色器字符串
      shaderNumberCount++
      if(shaderNumberCount>1){
        shaderPro
      }
    }
  }
</script>
</body>
</html>

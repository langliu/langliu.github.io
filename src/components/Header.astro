---
import removeTrailingSlash from '@/utils/removeTrailingSlash'
import presentation from '@/data/presentation'

const pathname = removeTrailingSlash(Astro.url.pathname)
---

<header class='z-40 flex w-full flex-col gap-2 md:flex-row md:justify-between'>
  <a href={`mailto:${presentation.mail}`} class='hover:text-neutral-100'>{presentation.mail}</a>

  <nav role='navigation'>
    <ul role='list' class='flex flex-row gap-2'>
      <li>
        <a
          href='/'
          class:list={{
            ['hover:text-neutral-100']: true,
            ['text-neutral-100']: pathname === '/',
          }}
          aria-current={pathname === '/' ? 'page' : undefined}>首页</a
        >
      </li>
      <li>/</li>
      <li>
        <a
          href='/posts'
          class:list={{
            ['hover:text-neutral-100']: true,
            ['text-neutral-100']: pathname === '/posts',
          }}
          aria-current={pathname === '/posts' ? 'page' : undefined}>文章</a
        >
      </li>
      <li>/</li>
      <li>
        <a
          href='/categories'
          class:list={{
            ['hover:text-neutral-100']: true,
            ['text-neutral-100']: pathname === '/categories' || pathname.startsWith('/categories/'),
          }}
          aria-current={pathname === '/categories' || pathname.startsWith('/categories/')
            ? 'page'
            : undefined}>分类</a
        >
      </li>
    </ul>
  </nav>
</header>

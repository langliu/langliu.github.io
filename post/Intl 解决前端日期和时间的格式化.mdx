---
title: 'Intl è§£å†³å‰ç«¯æ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼åŒ–'
description: 'Lorem ipsum dolor sit amet'
publishDate: '2023-03-07'
image: '~/assets/images/intl.jpg'
tags:
  - JavaScript
draft: false
---

## ç®€ä»‹

`Intl` æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œå®ƒçš„ä¸»è¦ç”¨é€”å°±æ˜¯å±•ç¤ºå›½é™…åŒ–ä¿¡æ¯ï¼Œå¯ä»¥å°†å­—ç¬¦ä¸²ï¼Œæ•°å­—å’Œæ—¥æœŸå’Œæ—¶é—´è½¬æ¢ä¸ºæŒ‡å®šåœ°åŒºçš„æ ¼å¼ã€‚

åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ¥å¤„ç†æ—¥æœŸå’Œæ•°å­—çš„æ ¼å¼åŒ–ï¼Œæ¯”å¦‚ [numeral](https://www.npmjs.com/package/numeral)ã€[dayjs](https://www.npmjs.com/package/dayjs)ã€[date-fns](https://www.npmjs.com/package/date-fns) ç­‰åº“ï¼Œè¿™äº›åº“åŒ…å«äº†è®¸å¤šçš„åŠŸèƒ½ï¼Œå¦‚æœæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä»…ä»…åªä½¿ç”¨äº†æ ¼å¼åŒ–çš„åŠŸèƒ½çš„è¯å…¶å®æ˜¯å¯ä»¥ä¸ç”¨å¼•å…¥è¿™äº›åº“çš„ï¼ŒJavaScript è‡ªå¸¦çš„ `Intl` API å³å¯æ»¡è¶³æ ¼å¼åŒ–çš„éœ€æ±‚ã€‚

## æ„é€ 

`Collator`ï¼Œ`DateTimeFormat`ï¼Œ`ListFormat`ï¼Œ`NumberFormat`ï¼Œ`PluralRules`ï¼Œ`RelativeTimeFormat` æ˜¯å‘½åç©ºé—´ `Intl` ä¸­çš„æ„é€ å‡½æ•°ã€‚å®ƒä»¬æ¥å—ä¸¤ä¸ªå‚æ•° - `locales` å’Œ `options`ã€‚ locales å¿…é¡»æ˜¯ç¬¦åˆ [BCP 47 è¯­è¨€æ ‡è®°](https://www.rfc-editor.org/rfc/rfc5646) çš„å­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ•°ç»„ã€‚

### `locales` å‚æ•°

å…¶ä¸­ locales ä¸­å¸¸ç”¨çš„æœ‰ï¼š

| å€¼               | å«ä¹‰                             |
| ---------------- | -------------------------------- |
| `zh-Hant`        | ç”¨ç¹ä½“å­—ä¹¦å†™çš„ä¸­æ–‡               |
| `zh-Hans`        | ç”¨ç®€ä½“å­—ä¹¦å†™çš„ä¸­æ–‡               |
| `zh-cmn-Hans-CN` | ä¸­æ–‡ï¼Œæ™®é€šè¯ï¼Œç®€ä½“ï¼Œç”¨äºä¸­å›½     |
| `zh-Hans-CN`     | ç®€ä½“ä¸­æ–‡ï¼Œç”¨äºä¸­å›½å¤§é™†           |
| `zh-yue-HK`      | ä¸­æ–‡ï¼Œå¹¿ä¸œè¯ï¼Œé¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒºä½¿ç”¨ |
| `cmn-Hans-CN`    | ç®€ä½“ä¸­æ–‡ï¼Œç”¨äºä¸­å›½               |
| `yue-HK`         | ç²¤è¯­ï¼Œé¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒºä½¿ç”¨         |
| `en-US`          | ç¾å¼è‹±è¯­ (US English)            |
| `en-GB`          | è‹±å¼è‹±è¯­ (British English)       |
| `ko-KR`          | éŸ©è¯­                             |
| `ja-JP`          | æ—¥è¯­                             |

### `options` å‚æ•°

`options` å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶å±æ€§å€¼åœ¨ä¸åŒçš„æ„é€ å‡½æ•°å’Œæ–¹æ³•ä¸­ä¼šæœ‰æ‰€å˜åŒ–ã€‚å¦‚æœ `options` å‚æ•°æœªæä¾›æˆ–è€…ä¸º undefinedï¼Œæ‰€æœ‰çš„å±æ€§å€¼åˆ™ä½¿ç”¨é»˜è®¤çš„ã€‚

### Intl.NumberFormat

`Intl.NumberFormat` å¯¹è±¡èƒ½ä½¿æ•°å­—åœ¨ç‰¹å®šçš„è¯­è¨€ç¯å¢ƒä¸‹æ ¼å¼åŒ–ã€‚

```javascript
const number = 123456.789

console.log(new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'EUR' }).format(number))
// Expected output: "123.456,79 â‚¬"

// The Japanese yen doesn't use a minor unit
console.log(new Intl.NumberFormat('ja-JP', { style: 'currency', currency: 'JPY' }).format(number))
// Expected output: "ï¿¥123,457"

console.log(new Intl.NumberFormat('zh-CN', {}).format(number))
// "123,456.789"
```

#### å¸¸ç”¨ options å‚æ•°

- `style`ï¼šè¦ä½¿ç”¨çš„æ ¼å¼æ ·å¼ï¼Œé»˜è®¤ä¸º `decimal`ã€‚
  - `decimal` ç”¨äºæ™®é€šæ•°å­—æ ¼å¼ã€‚
  - `currency` ç”¨äºè´§å¸æ ¼å¼ã€‚
  - `percent` ç”¨äºç™¾åˆ†æ¯”æ ¼å¼ã€‚
  - `unit` ç”¨äºå•ä½æ ¼å¼ã€‚
- `currency`ï¼šç”¨äºè´§å¸æ ¼å¼çš„è´§å¸ï¼ˆæ²¡æœ‰é»˜è®¤å€¼ï¼Œå¦‚æœ `style` çš„å€¼æ˜¯ `currency` åˆ™å¿…é¡»æä¾›ï¼‰ã€‚å¯èƒ½çš„å€¼æ˜¯ ISO 4217 è´§å¸ä»£ç ï¼Œä¾‹å¦‚ `CNY` ä»£è¡¨äººæ°‘å¸ï¼Œ `USD` ä»£è¡¨ç¾å…ƒï¼Œ`EUR` ä»£è¡¨æ¬§å…ƒï¼Œ`JPY` ä»£è¡¨æ—¥å…ƒã€‚
- `currencyDisplay`ï¼šå¦‚ä½•ä»¥è´§å¸æ ¼å¼æ˜¾ç¤ºè´§å¸ã€‚å¯èƒ½çš„å€¼æ˜¯ï¼š
  - `symbol` ä½¿ç”¨æœ¬åœ°åŒ–çš„è´§å¸ç¬¦å·ï¼Œä¾‹å¦‚ â‚¬ã€‚è¿™æ˜¯é»˜è®¤å€¼ã€‚
  - `narrowSymbol` ä½¿ç”¨ç®€ç§°ï¼ˆ`$100` è€Œä¸æ˜¯ `US$100`ï¼‰ã€‚
  - `code` ä½¿ç”¨ ISO è´§å¸ä»£ç ã€‚
  - `name` ä½¿ç”¨æœ¬åœ°åŒ–çš„è´§å¸åç§°ï¼Œä¾‹å¦‚ `dollar`ã€‚
- `currencySign`ï¼šåœ¨è®¸å¤šåŒºåŸŸè®¾ç½®ä¸­ï¼Œè®°å¸æ ¼å¼å°†æ•°å­—æ‹¬åœ¨æ‹¬å·ä¸­è€Œä¸æ˜¯æ·»åŠ å‡å·ã€‚`currencySign` é€šè¿‡å°†é€‰é¡¹è®¾ç½®ä¸º `accounting` å¯ç”¨æ­¤æ ¼å¼ã€‚é»˜è®¤ä¸º `standard`ã€‚
- `unit`ï¼š`unit` çš„æ ¼å¼ä¸­ä½¿ç”¨çš„å•ä½ï¼Œå¯èƒ½çš„å€¼æ˜¯æ ¸å¿ƒå•ä½æ ‡è¯†ç¬¦ï¼Œå¦‚[UTS #35ï¼Œç¬¬ 2 éƒ¨åˆ†ï¼Œç¬¬ 6 èŠ‚](https://unicode.org/reports/tr35/tr35-general.html#63-example-units)ä¸­æ‰€å®šä¹‰ã€‚ä»æ•´ä¸ªåˆ—è¡¨ä¸­é€‰æ‹©äº†ä¸€éƒ¨åˆ†å•å…ƒç”¨äº ECMAScriptã€‚ä¸€å¯¹ç®€å•å•ä½ `-per-` å¯ä»¥ç”¨ç»„åˆæˆä¸€ä¸ªå¤åˆå•ä½ã€‚æ²¡æœ‰é»˜è®¤å€¼ã€‚å¦‚æœæ˜¯ `style` ä¸º `unit`ï¼Œåˆ™å¿…é¡»æŒ‡å®šè¯¥å±æ€§ã€‚
- `unitDisplay`ï¼š`unit` ç”¨äºæ ¼å¼åŒ–çš„å•ä½æ ¼å¼åŒ–æ ·å¼ï¼Œé»˜è®¤ä¸º `short`ã€‚
  - `long`ï¼ˆä¾‹å¦‚ 16 litresï¼‰
  - `short`ï¼ˆä¾‹å¦‚ 16 lï¼‰
  - `narrow`ï¼ˆä¾‹å¦‚ 16lï¼‰
- `notation`ï¼šä¸€ç§æ˜¾ç¤ºæ•°å€¼çš„æ ¼å¼ã€‚é»˜è®¤ä¸º `standard`ã€‚
  - `standard` æ˜¯æ­£å¸¸çš„æ•°å­—æ ¼å¼ã€‚
  - `scientific`ï¼šä½¿ç”¨ç§‘å­¦è®°æ•°æ³•è¡¨ç¤ºï¼Œæ¯”å¦‚ `4.5E5`ã€‚
  - `engineering`ï¼š è¿”å› 10 çš„å¹‚èƒ½å¤Ÿè¢« 3 æ•´é™¤çš„ç§‘å­¦è®¡æ•°è¡¨ç¤ºï¼ˆå¦‚æœä¸€ä¸ªæ•°å°äº 1000ï¼Œåˆ™è¡¨ç¤ºä¸º 123 - `123E0`ï¼Œå¦‚æœä¸€ä¸ªæ•°å¤§äº 1000 å°äº 1000000ï¼Œåˆ™è¡¨ç¤ºä¸º 45100 - `45.1E3`ï¼‰ã€‚
  - `compact` æ˜¯è¡¨ç¤ºæŒ‡æ•°è¡¨ç¤ºæ³•çš„å­—ç¬¦ä¸²ï¼Œé»˜è®¤ä½¿ç”¨â€œçŸ­â€æ ¼å¼ã€‚
- `compactDisplay`ï¼šä»…åœ¨ `notation` ä¸º `compact` æ—¶ä½¿ç”¨ã€‚å¯ä»¥æ˜¯ `short`ï¼ˆé»˜è®¤ï¼‰æˆ– `long`ã€‚
- `maximumFractionDigits`ï¼šæœ€å¤§åˆ†æ•°ä½æ•°ï¼ˆæœ€å¤šä¿ç•™å‡ ä½å°æ•°ï¼‰
- `minimumFractionDigits`ï¼šæœ€å°åˆ†æ•°ä½æ•°ï¼ˆæœ€å°‘ä¿ç•™å‡ ä½å°æ•°ï¼‰
- `maximumSignificantDigits`ï¼šæœ€å¤šå‡ ä½æœ‰æ•ˆæ•°å­—

#### ä¾‹å­

##### è´§å¸ ğŸª™

```javascript
const numbers = [245, 2345234.2345, 3456]

const formatter = new Intl.NumberFormat('zh-CN', {
  style: 'currency',
  currency: 'CNY',
  minimumFractionDigits: 2,
  maximumFractionDigits: 2,
})

numbers.forEach((number) => {
  console.log(formatter.format(number))
})
// Â¥245.00
// Â¥2,345,234.23
// Â¥3,456.00

new Intl.NumberFormat('cmn-Hans-CN', {
  style: 'currency',
  currency: 'CNY',
  currencyDisplay: 'name',
  minimumFractionDigits: 2,
  maximumFractionDigits: 2,
}).format(245) // 245.00äººæ°‘å¸

new Intl.NumberFormat('cmn-Hans-CN', {
  style: 'currency',
  currency: 'CNY',
  currencyDisplay: 'name',
  minimumFractionDigits: 2,
  maximumFractionDigits: 2,
}).format(2345234.2345) // 2,345,234.23 äººæ°‘å¹£
```

##### ç™¾åˆ†æ¯”

```javascript
new Intl.NumberFormat('cmn-Hans-CN', { style: 'percent' }).format(34) // 3,400%

new Intl.NumberFormat('cmn-Hans-CN', { style: 'percent' }).format(0.34) // 34%
```

##### å•ä½æ ¼å¼

```javascript
new Intl.NumberFormat('cmn-Hans-CN', { style: 'unit', unit: 'kilometer-per-hour' }).format(4522) // 4,522 km/h

new Intl.NumberFormat('cmn-Hans-CN', {
  style: 'unit',
  unit: 'kilometer-per-hour',
  unitDisplay: 'long',
}).format(4522) // æ¯å°æ—¶4,522å…¬é‡Œ

new Intl.NumberFormat('cmn-Hans-CN', {
  style: 'unit',
  unit: 'kilometer-per-hour',
  unitDisplay: 'narrow',
}).format(4522) // 4,522km/h
```

##### ç§‘å­¦ç¼©å†™

```javascript
console.log(new Intl.NumberFormat('cmn-Hans-CN', { notation: 'scientific' }).format(452136)) // 4.521E5
console.log(new Intl.NumberFormat('cmn-Hans-CN', { notation: 'engineering' }).format(452136)) // 452.136E3
console.log(new Intl.NumberFormat('cmn-Hans-CN', { notation: 'compact' }).format(452136)) // 45ä¸‡
```

### Intl.DateTimeFormat

`Intl.DateTimeFormat` å¯¹è±¡èƒ½ä½¿æ—¥æœŸå’Œæ—¶é—´åœ¨ç‰¹å®šçš„è¯­è¨€ç¯å¢ƒä¸‹æ ¼å¼åŒ–ã€‚

#### å¸¸ç”¨ options å‚æ•°

- `dateStyle`ï¼šè°ƒç”¨ `format()` æ—¶ä½¿ç”¨çš„æ—¥æœŸæ ¼å¼æ ·å¼ã€‚å¯èƒ½çš„å€¼åŒ…æ‹¬ï¼š
  - `full`
  - `long`
  - `medium`
  - `short`ï¼ˆé»˜è®¤å€¼ï¼‰
- `timeStyle`ï¼šè°ƒç”¨ `format()` æ—¶ä½¿ç”¨çš„æ—¶é—´æ ¼å¼æ ·å¼ã€‚å¯èƒ½çš„å€¼åŒ…æ‹¬ï¼š
  - `full`
  - `long`
  - `medium`
  - `short`ï¼ˆé»˜è®¤å€¼ï¼‰
- `dayPeriod`: ç”¨äºâ€œæ—©ä¸Šâ€ã€â€œä¸Šåˆâ€ã€â€œä¸­åˆâ€ã€â€œnâ€ç­‰æ—¥æœŸæ—¶é—´æ®µçš„æ ¼å¼æ ·å¼ã€‚å¯èƒ½çš„å€¼åŒ…æ‹¬ï¼š `narrow`, `short`, `long`
- `timeZone`: æ—¶åŒºï¼Œæ¯”å¦‚ä¸Šæµ·â€œAsia/Shanghaiâ€ï¼Œçº½çº¦æ˜¯"America/New_York"
- `hourCycle`: è¦ä½¿ç”¨çš„å°æ—¶å‘¨æœŸï¼ˆ12å°æ—¶åˆ¶ï¼Œ24å°æ—¶åˆ¶ï¼‰  å€¼å¯ä»¥ä¸ºï¼š`h11`ã€`h12`ã€`h23`ã€`h24`
- `weekday`: å·¥ä½œæ—¥çš„è¡¨ç¤ºå½¢å¼ã€‚å¯èƒ½çš„å€¼ä¸ºï¼š
  -  `long`ï¼ˆä¾‹å¦‚ï¼ŒThursday)
  - `short`ï¼ˆä¾‹å¦‚ï¼ŒThu)
  - `narrow`ï¼ˆä¾‹å¦‚ï¼Œï¼‰ã€‚ä¸¤ä¸ªå·¥ä½œæ—¥å¯èƒ½ å¯¹äºæŸäº›è¯­è¨€ç¯å¢ƒå…·æœ‰ç›¸åŒçš„çª„æ ·å¼ï¼ˆä¾‹å¦‚ çš„çª„æ ·å¼ä¹Ÿæ˜¯ï¼‰ã€‚TTuesdayT
- `year`: å¹´ä»½çš„è¡¨ç¤ºã€‚å¯èƒ½çš„å€¼ä¸ºï¼š
  - `numeric`ï¼ˆä¾‹å¦‚ï¼Œ2012)
  - `2-digit`ï¼ˆä¾‹å¦‚ï¼Œ12)
- `month`: æœˆä»½çš„è¡¨ç¤ºã€‚å¯èƒ½çš„å€¼ä¸ºï¼š
  - `numeric`ï¼ˆä¾‹å¦‚ï¼Œ2)
  - `2-digit`ï¼ˆä¾‹å¦‚ï¼Œ02)
  - `long`ï¼ˆä¾‹å¦‚ï¼ŒMarch)
  - `short`ï¼ˆä¾‹å¦‚ï¼ŒMar)
  - `narrow`
- `day`: ä¸€å¤©çš„è¡¨ç¤ºã€‚å¯èƒ½çš„å€¼ä¸ºï¼š
  - `numeric`ï¼ˆä¾‹å¦‚ï¼Œ1)
  - `2-digit`ï¼ˆä¾‹å¦‚ï¼Œ01)
- `hour`: å°æ—¶çš„è¡¨ç¤ºã€‚å¯èƒ½çš„å€¼ä¸ºï¼š
  - `numeric`ï¼ˆä¾‹å¦‚ï¼Œ1)
  - `2-digit`ï¼ˆä¾‹å¦‚ï¼Œ01)
- `minute`: åˆ†é’Ÿçš„è¡¨ç¤ºã€‚å¯èƒ½çš„å€¼ä¸ºï¼š
  - `numeric`ï¼ˆä¾‹å¦‚ï¼Œ1)
  - `2-digit`ï¼ˆä¾‹å¦‚ï¼Œ01)
- `second`: ç§’çš„è¡¨ç¤ºã€‚å¯èƒ½çš„å€¼ä¸ºï¼š
  - `numeric`ï¼ˆä¾‹å¦‚ï¼Œ1)
  - `2-digit`ï¼ˆä¾‹å¦‚ï¼Œ01)
- `fractionalSecondDigits`: ç”¨äºè¡¨ç¤ºç§’å°æ•°éƒ¨åˆ†çš„ä½æ•°ï¼ˆå…¶ä»–çš„æ•°å­—å°†è¢«æˆªæ–­ï¼‰ã€‚å¯èƒ½çš„å€¼ä¸ºï¼š
  - `0`: å°æ•°éƒ¨åˆ†å…¨éƒ¨ä¸¢å¼ƒã€‚
  - `1`: å°æ•°éƒ¨åˆ†è¡¨ç¤ºä¸º 1 ä½æ•°å­—ã€‚ä¸º ä¾‹å¦‚.736 çš„æ ¼å¼ä¸º .7
  - `2`:å°æ•°éƒ¨åˆ†è¡¨ç¤ºä¸º 2 ä½æ•°å­—ã€‚ä¸º ä¾‹å¦‚ .736 çš„æ ¼å¼ä¸º .73
  - `3`:å°æ•°éƒ¨åˆ†è¡¨ç¤ºä¸º 3 ä½æ•°å­—ã€‚ä¸º ä¾‹å¦‚ .736 çš„æ ¼å¼ä¸º .736
#### ä¾‹å­

```javascript
const date = new Date(Date.UTC(2012, 11, 20, 3, 0, 0));
console.log(new Intl.DateTimeFormat('zh-CN').format(date)); // "2012/12/20"
console.log(new Intl.DateTimeFormat('zh-CN', { 
  dateStyle: 'full', 
  timeStyle: 'long', 
  timeZone: 'Asia/Shanghai' 
}).format(date)); // â€œ2012å¹´12æœˆ20æ—¥æ˜ŸæœŸå›› GMT+8 11:00:00â€
console.log(new Intl.DateTimeFormat('zh-CN', { 
  dateStyle: 'full', 
  timeStyle: 'short', 
  timeZone: 'Asia/Shanghai' 
}).format(date)); // â€œ2012å¹´12æœˆ20æ—¥æ˜ŸæœŸå›› 11:00â€
console.log(new Intl.DateTimeFormat('zh-CN', { 
  year: 'numeric', 
  month: '2-digit', 
  day: '2-digit' 
}).format(date)); // â€œ2012/12/20â€
```
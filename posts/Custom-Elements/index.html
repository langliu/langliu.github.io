<!DOCTYPE html><html lang="zh-CN" class="astro-LDYHAKPG">
  <head>
    <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<meta name="generator" content="Astro v1.2.6">

<!-- Primary Meta Tags -->
<title>Custom Elements</title>
<meta name="title" content="Custom Elements">
<meta name="description" content="è¿‘æ—¥è¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ JavaScript ä¸­å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯æ•°ç»„ï¼Ÿã€‚åœ¨å¬åˆ°è¿™ä¸ªé—®é¢˜çš„æ—¶å€™æˆ‘å°±åœ¨æƒ³æœ‰é‚£äº›æ–¹å¼ï¼Œåœ¨æˆ‘ä»¬å¸¸ç”¨çš„ç±»å‹åˆ¤æ–­ä¸­å¯ä»¥é€šè¿‡ `typeof` æˆ– `instanceof` æ¥è¿›è¡Œç±»å‹åˆ¤æ–­ã€‚">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://langiu.github.io/posts/Custom-Elements/">
<meta property="og:title" content="Custom Elements">
<meta property="og:description" content="è¿‘æ—¥è¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ JavaScript ä¸­å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯æ•°ç»„ï¼Ÿã€‚åœ¨å¬åˆ°è¿™ä¸ªé—®é¢˜çš„æ—¶å€™æˆ‘å°±åœ¨æƒ³æœ‰é‚£äº›æ–¹å¼ï¼Œåœ¨æˆ‘ä»¬å¸¸ç”¨çš„ç±»å‹åˆ¤æ–­ä¸­å¯ä»¥é€šè¿‡ `typeof` æˆ– `instanceof` æ¥è¿›è¡Œç±»å‹åˆ¤æ–­ã€‚">
<meta property="og:image" content="https://langiu.github.io/placeholder-social.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://langiu.github.io/posts/Custom-Elements/">
<meta property="twitter:title" content="Custom Elements">
<meta property="twitter:description" content="è¿‘æ—¥è¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ JavaScript ä¸­å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯æ•°ç»„ï¼Ÿã€‚åœ¨å¬åˆ°è¿™ä¸ªé—®é¢˜çš„æ—¶å€™æˆ‘å°±åœ¨æƒ³æœ‰é‚£äº›æ–¹å¼ï¼Œåœ¨æˆ‘ä»¬å¸¸ç”¨çš„ç±»å‹åˆ¤æ–­ä¸­å¯ä»¥é€šè¿‡ `typeof` æˆ– `instanceof` æ¥è¿›è¡Œç±»å‹åˆ¤æ–­ã€‚">
<meta property="twitter:image" content="https://langiu.github.io/placeholder-social.jpg">

    
  <link rel="stylesheet" href="/assets/28d7b916.e6b69f40.css" />
<link rel="stylesheet" href="/assets/58a7e5a1.ffa95078.css" />
<link rel="stylesheet" href="/assets/31843d04.a8807800.css" /></head>
  <body class="astro-LDYHAKPG">
    <aside class="sider astro-6I5PPSTL">
  <div class="header astro-6I5PPSTL">
    <img class="avatar astro-6I5PPSTL" src="../../eye.jpg" alt="Avatar">
    <p class="description astro-6I5PPSTL">åˆ˜æµªçš„åšå®¢</p>
  </div>
  <div class="astro-6I5PPSTL">
    <a class="nav astro-6I5PPSTL" href="/">é¦–é¡µ</a>
    <a class="nav astro-6I5PPSTL" href="/tags">æ ‡ç­¾</a>
    <a class="nav astro-6I5PPSTL" href="/about">å…³äº</a>
  </div>
</aside>


    <main class="astro-LDYHAKPG">
      <div class="content astro-LDYHAKPG">
        <div class="article-wrapper astro-LDYHAKPG">
          <article class="astro-LDYHAKPG">
            <h1 class="title astro-LDYHAKPG">Custom Elements</h1>
            <time class="astro-LDYHAKPG">
                  2022å¹´8æœˆ29æ—¥
                </time>
            <div class="astro-LDYHAKPG">
              <a class="tag astro-XBMMR3NU" href="/tags/Web Components" style="--backgroundColor: #4992;">Web Components</a>

<a class="tag astro-XBMMR3NU" href="/tags/JavaScript" style="--backgroundColor: #4117;">JavaScript</a>


            </div>
            <hr class="astro-LDYHAKPG">
            
            
            <p>åœ¨ Custom Elements ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æ˜¯å¦ç»§æ‰¿åŸºæœ¬ HTML å…ƒç´ ï¼Œå¯ä»¥å°†è‡ªå®šä¹‰å…ƒç´ åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li><em>Autonomous custom elements</em> è‡ªä¸»å®šåˆ¶å…ƒç´ </li>
<li><em>Customized built-in elements</em> è‡ªå®šä¹‰å†…ç½®å…ƒç´ </li>
</ul>
<h2 id="è‡ªä¸»å®šåˆ¶å…ƒç´ ">è‡ªä¸»å®šåˆ¶å…ƒç´ </h2>
<p>è‡ªä¸»å®šåˆ¶å…ƒç´ ï¼Œæ˜¯ç‹¬ç«‹çš„å…ƒç´ ï¼Œå®ƒä¸ç»§æ‰¿å…¶ä»–å†…å»ºçš„ HTML å…ƒç´ ã€‚</p>
<p>ä½ å¯ä»¥ç›´æ¥æŠŠå®ƒä»¬å†™æˆ HTML æ ‡ç­¾çš„å½¢å¼ï¼Œæ¥åœ¨é¡µé¢ä¸Šä½¿ç”¨ã€‚ä¾‹å¦‚ <code>&lt;my-card&gt;</code>ï¼Œæˆ–è€…æ˜¯ <code>document.createElement(&quot;my-card&quot;)</code> è¿™æ ·ã€‚</p>
<p>åƒæˆ‘ä»¬åœ¨<a href="https://www.notion.so/Web-Components-feb3e140c8964426a19540c3a0dc7167">å…¥é—¨</a>ä¸­å®ç°çš„å°±æ˜¯è‡ªä¸»å®šåˆ¶å…ƒç´ ï¼š</p>
<pre class="astro-code" style="background-color:#282A36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#FF79C6">class</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD">HelloWorld</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">extends</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD">HTMLElement</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">  </span><span style="color:#FF79C6">constructor</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F8F8F2">    </span><span style="color:#BD93F9">super</span><span style="color:#F8F8F2">()</span></span>
<span class="line"><span style="color:#F8F8F2">    </span><span style="color:#BD93F9">this</span><span style="color:#F8F8F2">.</span><span style="color:#50FA7B">attachShadow</span><span style="color:#F8F8F2">({ mode</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">open</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2"> })</span></span>
<span class="line"><span style="color:#F8F8F2">    </span><span style="color:#BD93F9">this</span><span style="color:#F8F8F2">.shadowRoot.innerHTML </span><span style="color:#FF79C6">==</span></span>
<span class="line"><span style="color:#F8F8F2">      </span><span style="color:#F1FA8C">`</span></span>
<span class="line"><span style="color:#F1FA8C">      &lt;style&gt;</span></span>
<span class="line"><span style="color:#F1FA8C">        :host {</span></span>
<span class="line"><span style="color:#F1FA8C">          display: block;</span></span>
<span class="line"><span style="color:#F1FA8C">          padding: 10px;</span></span>
<span class="line"><span style="color:#F1FA8C">          background-color: #eee;</span></span>
<span class="line"><span style="color:#F1FA8C">        }</span></span>
<span class="line"><span style="color:#F1FA8C">      &lt;/style&gt;</span></span>
<span class="line"><span style="color:#F1FA8C">      &lt;h1&gt;Hello World!&lt;/h1&gt;</span></span>
<span class="line"><span style="color:#F1FA8C">    `</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">// æŒ‚è½½</span></span>
<span class="line"><span style="color:#F8F8F2">window.customElements.</span><span style="color:#50FA7B">define</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#39;</span><span style="color:#F1FA8C">hello-world</span><span style="color:#E9F284">&#39;</span><span style="color:#F8F8F2">, HelloWorld)</span></span></code></pre>
<blockquote>
<p>ğŸ’¡ ç»§æ‰¿è‡ª HTMLElement çš„æ ·å¼ display ç½®ä¸º inlineï¼Œå¦‚æœä¸é‡æ–°è®¾ç½® display çš„å€¼ï¼Œé‚£ä¹ˆæ ·å¼æ•ˆæœä¼šæ˜¾ç¤ºä¸å‡ºæ¥ã€‚</p>
</blockquote>
<h2 id="è‡ªå®šä¹‰å†…ç½®å…ƒç´ ">è‡ªå®šä¹‰å†…ç½®å…ƒç´ </h2>
<p>ç»§æ‰¿è‡ªåŸºæœ¬çš„ HTML å…ƒç´ ã€‚åœ¨åˆ›å»ºæ—¶ï¼Œä½ å¿…é¡»æŒ‡å®šæ‰€éœ€æ‰©å±•çš„å…ƒç´ ï¼Œä½¿ç”¨æ—¶ï¼Œéœ€è¦å…ˆå†™å‡ºåŸºæœ¬çš„å…ƒç´ æ ‡ç­¾ï¼Œå¹¶é€šè¿‡ <code>is</code> å±æ€§æŒ‡å®š custom element çš„åç§°ã€‚ä¾‹å¦‚ <code>&lt;p is=&quot;my-card&quot;&gt;</code> , æˆ–è€… <code>document.createElement(&quot;p&quot;, { is: &quot;my-card&quot; })</code>ã€‚</p>
<pre class="astro-code" style="background-color:#282A36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#6272A4">// index.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">class</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD">MyCard</span><span style="color:#F8F8F2"> </span><span style="color:#FF79C6">extends</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD">HTMLDivElement</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">    </span><span style="color:#FF79C6">constructor</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F8F8F2">        </span><span style="color:#BD93F9">super</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">        </span><span style="color:#FF79C6">let</span><span style="color:#F8F8F2"> shadow </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#BD93F9">this</span><span style="color:#F8F8F2">.</span><span style="color:#50FA7B">attachShadow</span><span style="color:#F8F8F2">({ mode</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">open</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        </span><span style="color:#FF79C6">let</span><span style="color:#F8F8F2"> containerEle </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> document.</span><span style="color:#50FA7B">createElement</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">div</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">        containerEle.style.display </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">flex</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        containerEle.style.flexDirection </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">column</span><span style="color:#E9F284">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2">        containerEle.style.margin </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">100px</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        containerEle.style.border </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">1px solid #aaa</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        </span><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> headerEle </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> document.</span><span style="color:#50FA7B">createElement</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">div</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">        headerEle.innerText </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">åç‰‡</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        headerEle.style.height </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">20px</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        headerEle.style.padding </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">10px</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        headerEle.style.borderBottom </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">1px solid blue</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        </span><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> bodyEle </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> document.</span><span style="color:#50FA7B">createElement</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">div</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">        bodyEle.innerText </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">å§“åï¼šç¼–ç¨‹ä¸‰æ˜§</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">        bodyEle.style.padding </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">10px</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">        containerEle.</span><span style="color:#50FA7B">appendChild</span><span style="color:#F8F8F2">(headerEle);</span></span>
<span class="line"><span style="color:#F8F8F2">        containerEle.</span><span style="color:#50FA7B">appendChild</span><span style="color:#F8F8F2">(bodyEle);</span></span>
<span class="line"><span style="color:#F8F8F2">        shadow.</span><span style="color:#50FA7B">appendChild</span><span style="color:#F8F8F2">(containerEle);</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">customElements.</span><span style="color:#50FA7B">define</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">my-card</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">, MyCard, {extends</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> </span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">div</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">});</span></span></code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<ul>
<li><strong>è‡ªä¸»å®šåˆ¶å…ƒç´ </strong>çš„æ„é€ å‡½æ•°åªèƒ½ç»§æ‰¿ HTMLElementï¼Œä¸”è°ƒç”¨ <code>customElements.define()</code> æ–¹æ³•æ—¶ä¸éœ€è¦ç¬¬ä¸‰ä¸ªå‚æ•°ï¼›</li>
<li>HTML ä¸­ç›´æ¥ä½¿ç”¨<strong>è‡ªä¸»å®šåˆ¶å…ƒç´ </strong>å®šä¹‰çš„æ ‡ç­¾åç§°å³å¯ï¼›</li>
<li><strong>è‡ªä¸»å®šåˆ¶å…ƒç´ </strong>æ ·å¼çš„ display å€¼é»˜è®¤ä¸º inlineï¼Œå¦‚æœ‰éœ€è¦ï¼Œå¯é‡æ–°è®¾ç½®ï¼›</li>
<li><strong>è‡ªå®šä¹‰å†…ç½®å…ƒç´ </strong>çš„æ„é€ å‡½æ•°ä¸€èˆ¬åªèƒ½ç»§æ‰¿å¯ç”¨çš„åŸºæœ¬ HTML æ ‡ç­¾ç±»ï¼Œä¸”è°ƒç”¨ <code>customElements.define()</code> æ–¹æ³•æ—¶å¿…é¡»è¦ä¼ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸€èˆ¬ä¸ºï¼š <code>{extends: &quot;æ ‡ç­¾å&quot;}</code>ï¼›</li>
<li>HTML ä¸­ç›´æ¥ä½¿ç”¨<strong>è‡ªå®šä¹‰å†…ç½®å…ƒç´ </strong>æ—¶ï¼Œéœ€è¦é€šè¿‡ç»„ä»¶æ„é€ å‡½æ•°ç»§æ‰¿ç±»çš„åŸºæœ¬æ ‡ç­¾å + <code>is=&quot;è‡ªå®šä¹‰æ ‡ç­¾å&quot;</code>ã€‚</li>
</ul>
          </article>
        </div>
        <div class="catalogue astro-LDYHAKPG">
          <h2 class="heading astro-LDYHAKPG">ç›®å½•</h2>
          <ul class="astro-LDYHAKPG">
            <li class="header-link depth-2 astro-LDYHAKPG">
                    <a href="#è‡ªä¸»å®šåˆ¶å…ƒç´ " class="astro-LDYHAKPG">è‡ªä¸»å®šåˆ¶å…ƒç´ </a>
                  </li><li class="header-link depth-2 astro-LDYHAKPG">
                    <a href="#è‡ªå®šä¹‰å†…ç½®å…ƒç´ " class="astro-LDYHAKPG">è‡ªå®šä¹‰å†…ç½®å…ƒç´ </a>
                  </li><li class="header-link depth-2 astro-LDYHAKPG">
                    <a href="#æ€»ç»“" class="astro-LDYHAKPG">æ€»ç»“</a>
                  </li>
          </ul>
        </div>
      </div>
      <footer class="astro-ZZCSQTZN">
  &copy; 2022 langliu. All rights reserved.
</footer>

    </main>
  </body></html>
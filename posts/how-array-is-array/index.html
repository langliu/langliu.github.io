<!DOCTYPE html><html lang="zh-CN" class="astro-T6W5MSP6">
  <head>
    <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<meta name="generator" content="Astro v1.1.5">

<!-- Primary Meta Tags -->
<title>在 JavaScript 中如何判断一个数组是数组？</title>
<meta name="title" content="在 JavaScript 中如何判断一个数组是数组？">
<meta name="description" content="近日被问到一个问题：在 JavaScript 中如何判断一个数组是数组？。在听到这个问题的时候我就在想有那些方式，在我们常用的类型判断中可以通过 `typeof` 或 `instanceof` 来进行类型判断。">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://langiu.github.io/posts/how-array-is-array/">
<meta property="og:title" content="在 JavaScript 中如何判断一个数组是数组？">
<meta property="og:description" content="近日被问到一个问题：在 JavaScript 中如何判断一个数组是数组？。在听到这个问题的时候我就在想有那些方式，在我们常用的类型判断中可以通过 `typeof` 或 `instanceof` 来进行类型判断。">
<meta property="og:image" content="https://langiu.github.io/placeholder-social.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://langiu.github.io/posts/how-array-is-array/">
<meta property="twitter:title" content="在 JavaScript 中如何判断一个数组是数组？">
<meta property="twitter:description" content="近日被问到一个问题：在 JavaScript 中如何判断一个数组是数组？。在听到这个问题的时候我就在想有那些方式，在我们常用的类型判断中可以通过 `typeof` 或 `instanceof` 来进行类型判断。">
<meta property="twitter:image" content="https://langiu.github.io/placeholder-social.jpg">

    
  <link rel="stylesheet" href="/assets/119de530.84e0f68c.css" />
<link rel="stylesheet" href="/assets/a6682c3e.2d77ac45.css" />
<link rel="stylesheet" href="/assets/330e655f.7a9c934a.css" /></head>
  <body class="astro-T6W5MSP6">
    <aside class="sider astro-QLDQO2WK">
  <div class="header astro-QLDQO2WK">
    <img class="avatar astro-QLDQO2WK" src="../../eye.jpg" alt="Avatar">
    <p class="description astro-QLDQO2WK">刘浪的博客</p>
  </div>
  <div class="astro-QLDQO2WK">
    <a class="nav astro-QLDQO2WK" href="/">首页</a>
    <a class="nav astro-QLDQO2WK" href="/tags">标签</a>
    <a class="nav astro-QLDQO2WK" href="/about">关于</a>
  </div>
</aside>


    <main class="astro-T6W5MSP6">
      <div class="content astro-T6W5MSP6">
        <div class="article-wrapper astro-T6W5MSP6">
          <article class="astro-T6W5MSP6">
            <h1 class="title astro-T6W5MSP6">在 JavaScript 中如何判断一个数组是数组？</h1>
            <time class="astro-T6W5MSP6">
                  2022年3月11日
                </time>
            <div class="astro-T6W5MSP6">
              <span class="tag astro-VPXDGWUV" style="--backgroundColor: #4117;">JavaScript</span>


            </div>
            <hr class="astro-T6W5MSP6">
            <img class="hero astro-T6W5MSP6" width="100%" height="360" src="/sql-where.jpg" alt="">
            
            <p>其中 <code>typeof</code> 返回值固定，只有以下几种情况：</p>

















































<table><thead><tr><th>类型</th><th>结果</th></tr></thead><tbody><tr><td>Undefined</td><td>“undefined”</td></tr><tr><td>Null</td><td>“object” (见下文)</td></tr><tr><td>Boolean</td><td>“boolean”</td></tr><tr><td>Number</td><td>“number”</td></tr><tr><td>BigInt(ECMAScript 2020 新增)</td><td>“bigint”</td></tr><tr><td>String</td><td>“string”</td></tr><tr><td>Symbol (ECMAScript 2015 新增)</td><td>“symbol”</td></tr><tr><td>宿主对象（由 JS 环境提供）</td><td>取决于具体实现</td></tr><tr><td>Function 对象 (按照 ECMA-262 规范实现 [[Call]])</td><td>“function”</td></tr><tr><td>其他任何对象</td><td>“object”</td></tr></tbody></table>
<p>所以通过 <code>typeof</code> 来判断肯定是不可行的，那么就只能通过 <code>instanceof</code> 进行判断？</p>
<h2 id="用-array-对象的-isarray-方法判断">用 Array 对象的 isArray 方法判断</h2>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray">Array.isArray() | MDN</a> 是 JavaScript 原生提供的判断数组的方法，从 ES5 就能使用，但是因为之前没有用到过所以不记得有这个方法（尴尬 😅）。</p>
<h2 id="使用-instanceof-进行判断可能会出现的问题">使用 <code>instanceof</code> 进行判断可能会出现的问题</h2>
<p>因为 <code>instanceof</code> 是用于检测构造函数的 <code>prototype</code> 属性是否出现在某个实例对象的原型链上，在 JavaScript 中原型链是可以进行更改的，所以一旦变量的原型发生了更改的话这种判断就会失效，故而使用 <code>Array.isArray()</code> 是最稳妥的方式。</p>
<pre class="astro-code" style="background-color:#282A36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word"><code><span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> s </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> []</span></span>
<span class="line"><span style="color:#F8F8F2">s.__proto__ </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD">Object</span><span style="color:#F8F8F2">.prototype </span><span style="color:#6272A4">// 如果更改了变量的原型指向的话判断可能就不靠谱了</span></span>
<span class="line"><span style="color:#F8F8F2">console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(s.__proto__ </span><span style="color:#FF79C6">===</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD">Array</span><span style="color:#F8F8F2">.prototype) </span><span style="color:#6272A4">// false</span></span>
<span class="line"><span style="color:#F8F8F2">console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(Object.</span><span style="color:#50FA7B">getPrototypeOf</span><span style="color:#F8F8F2">(s) </span><span style="color:#FF79C6">===</span><span style="color:#F8F8F2"> </span><span style="color:#8BE9FD">Array</span><span style="color:#F8F8F2">.prototype) </span><span style="color:#6272A4">// false</span></span></code></pre>
          </article>
        </div>
        <div class="catalogue astro-T6W5MSP6">
          <h2 class="heading astro-T6W5MSP6">目录</h2>
          <ul class="astro-T6W5MSP6">
            <li class="header-link depth-2 astro-T6W5MSP6">
                    <a href="#用-array-对象的-isarray-方法判断" class="astro-T6W5MSP6">用 Array 对象的 isArray 方法判断</a>
                  </li><li class="header-link depth-2 astro-T6W5MSP6">
                    <a href="#使用-instanceof-进行判断可能会出现的问题" class="astro-T6W5MSP6">使用 instanceof 进行判断可能会出现的问题</a>
                  </li>
          </ul>
        </div>
      </div>
      <footer class="astro-ROSMR3ZC">
  &copy; 2022 langliu. All rights reserved.
</footer>

    </main>
  </body></html>
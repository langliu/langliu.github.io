---
title: "å‘Šåˆ«â€œç‰ˆæœ¬åœ°ç‹±â€ï¼šç”¨ fnm é«˜æ•ˆç®¡ç†ä½ çš„ Node.js å¼€å‘ç¯å¢ƒ"
publishedAt: 2025-07-15
description: "fnmï¼ˆFast Node Managerï¼‰æ˜¯ä¸€ä¸ªåŸºäºRustæ„å»ºçš„å¿«é€Ÿã€è½»é‡çº§çš„Nodeç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œæ”¯æŒè·¨å¹³å°ä½¿ç”¨ï¼ˆWindows/macOS/Linuxï¼‰ï¼Œç›¸æ¯”nvmå…·æœ‰æ›´å¿«çš„æ‰§è¡Œé€Ÿåº¦ã€‚"
slug: "node-version-manager-fnm"
isPublish: true
---

ä½ æ˜¯å¦ç»å†è¿‡è¿™æ ·çš„åœºæ™¯ï¼š

- é¡¹ç›® A éœ€è¦ Node 14ï¼Œé¡¹ç›® B è¦æ±‚ Node 18ï¼Œæ¥å›åˆ‡æ¢ä»¤äººæŠ“ç‹‚ï¼›
- æ–°åŒäº‹å…‹éš†é¡¹ç›®åè¿è¡Œå¤±è´¥ï¼Œåªå› æœ¬åœ° Node ç‰ˆæœ¬ä¸åŒ¹é…ï¼›
- å…¨å±€å®‰è£…çš„ npm åŒ…åœ¨åˆ‡æ¢ç‰ˆæœ¬åç¥ç§˜â€œæ¶ˆå¤±â€æˆ–æŠ¥é”™ï¼›

è¿™å°±æ˜¯ç¼ºä¹é«˜æ•ˆ Node ç‰ˆæœ¬ç®¡ç†çš„å…¸å‹å›°å¢ƒã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬èšç„¦ä¸€æ¬¾è§£å†³è¿™äº›ç—›ç‚¹çš„åˆ©å™¨ï¼šfnmï¼ˆFast Node Managerï¼‰ï¼Œå®ƒæ­£æˆä¸ºè¶Šæ¥è¶Šå¤šå¼€å‘è€…çš„é¦–é€‰å·¥å…·ã€‚

fnmï¼ˆFast Node Managerï¼‰æ˜¯ä¸€ä¸ªåŸºäºRustæ„å»ºçš„å¿«é€Ÿã€è½»é‡çº§çš„Nodeç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œæ”¯æŒè·¨å¹³å°ä½¿ç”¨ï¼ˆWindows/macOS/Linuxï¼‰ï¼Œç›¸æ¯”nvmå…·æœ‰æ›´å¿«çš„æ‰§è¡Œé€Ÿåº¦ã€‚

## ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬ç®¡ç†å·¥å…·

Node.js ç”Ÿæ€è¿­ä»£è¿…é€Ÿï¼Œä¸åŒé¡¹ç›®å¸¸è¢«â€œé”å®šâ€åœ¨ç‰¹å®šç‰ˆæœ¬ï¼š

- é¡¹ç›®ä¾èµ–å…¼å®¹æ€§ï¼šè€é¡¹ç›®å¯èƒ½ä¾èµ–æ—§ç‰ˆ Node çš„ APIï¼Œè€Œæ–°é¡¹ç›®éœ€è¦ç°ä»£ç‰¹æ€§ï¼›
- LTSï¼ˆé•¿æœŸæ”¯æŒï¼‰ç­–ç•¥ï¼šä¼ä¸šçº§åº”ç”¨éœ€ç¨³å®šç‰ˆï¼Œå®éªŒé¡¹ç›®å¯å°é²œæœ€æ–°ç‰ˆï¼›
- å›¢é˜Ÿåä½œä¸€è‡´æ€§ï¼šç¡®ä¿æ‰€æœ‰æˆå‘˜ç¯å¢ƒç»Ÿä¸€ï¼Œé¿å…â€œæˆ‘ç”µè„‘èƒ½è·‘ï¼Œä½ ç”µè„‘æŠ¥é”™â€ï¼›
- å…¨å±€åŒ…éš”ç¦»ï¼šä¸åŒ Node ç‰ˆæœ¬ä¸‹çš„å…¨å±€åŒ…ï¼ˆå¦‚ typescriptã€eslintï¼‰å¯èƒ½äº’ä¸å…¼å®¹ï¼›

æ‰‹åŠ¨åˆ‡æ¢ç‰ˆæœ¬ä¸ä»…ä½æ•ˆï¼Œè¿˜æ˜“å‡ºé”™ã€‚ä½ éœ€è¦ä¸€ä¸ªè‡ªåŠ¨åŒ–ã€å¯ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆã€‚

## ä¸ºä»€ä¹ˆé€‰æ‹© fnm è€Œä¸æ˜¯ nvmï¼Ÿ

ä¼ ç»Ÿçš„ nvm æ›¾æ˜¯ç‰ˆæœ¬ç®¡ç†çš„æ ‡æ†ï¼Œä½†å­˜åœ¨æ˜æ˜¾çŸ­æ¿ï¼š

- ğŸ¢ é€Ÿåº¦æ…¢ï¼šåŸºäº Shell çš„å¯åŠ¨å’Œåˆ‡æ¢æ‹–æ…¢å¼€å‘æµç¨‹
- ğŸš« è·¨å¹³å°å·®ï¼šåŸç”Ÿä¸æ”¯æŒ Windowsï¼Œéœ€ä¾èµ–éå®˜æ–¹ç§»æ¤ç‰ˆ
- ğŸ¤– è‡ªåŠ¨åŒ–å¼±ï¼šéœ€æ‰‹åŠ¨æ‰§è¡Œ nvm useï¼Œæ˜“å¿˜è®°åˆ‡æ¢

fnm ç”¨ Rust é‡å†™ï¼Œå¸¦æ¥è´¨çš„æå‡ï¼š

- âš¡ æé€Ÿä½“éªŒï¼šRust çš„é«˜æ€§èƒ½å¸¦æ¥ç§’çº§å®‰è£…ä¸åˆ‡æ¢18
- ğŸŒ å…¨å¹³å°æ”¯æŒï¼šåŸç”Ÿå…¼å®¹ macOSã€Linuxã€Windowsï¼ˆåŒ…æ‹¬ PowerShell å’Œ WSLï¼‰
- ğŸ¤– æ— ç¼è‡ªåŠ¨åˆ‡æ¢ï¼šæ£€æµ‹ .nvmrc æˆ– .node-version æ–‡ä»¶ï¼Œcd è¿›ç›®å½•å³è‡ªåŠ¨åˆ‡ç‰ˆæœ¬
- ğŸ“¦ å•æ–‡ä»¶éƒ¨ç½²ï¼šæ— éœ€å¤æ‚ä¾èµ–ï¼Œä¸‹è½½å³ç”¨

> å®æµ‹å¯¹æ¯”ï¼šåœ¨åŒç­‰æ¡ä»¶ä¸‹åˆ‡æ¢ç‰ˆæœ¬ï¼Œfnm æ¯” nvm å¿« 3-5 å€ï¼Œå°¤å…¶åœ¨å¤§å‹é¡¹ç›®ä¸­æ„ŸçŸ¥æ˜æ˜¾ã€‚

## å®‰è£…ä¸é…ç½®

### è‡ªåŠ¨å®‰è£…ï¼ˆæ¨èï¼‰

```shell
curl -fsSL https://fnm.vercel.app/install | bash
```

### æ‰‹åŠ¨å®‰è£…

#### é€šè¿‡Homebrewï¼ˆMacOS/Linuxï¼‰

```shell
brew install fnm
```

ç»ˆç«¯é…ç½®ï¼š

**Bash**

å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°ä½ çš„ `.bashrc` é…ç½®æ–‡ä»¶ä¸­ï¼š

```shell
eval "$(fnm env --use-on-cd --shell bash)"
```

**Zsh**

å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°ä½ çš„ `.zshrc` é…ç½®æ–‡ä»¶ä¸­ï¼š

```shell
eval "$(fnm env --use-on-cd --shell zsh)"
```

#### ä½¿ç”¨ Winget (Windows)

```shell
winget install Schniz.fnm
```

ç»ˆç«¯é…ç½®ï¼š

è¦åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ PowerShell ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```shell
if (-not (Test-Path $profile)) { New-Item $profile -Force }
```

è¦ç¼–è¾‘æ‚¨çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ PowerShell ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```shell
Invoke-Item $profile
```

å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°ä½ çš„ `PowerShell` é…ç½®æ–‡ä»¶ä¸­ï¼š

```shell
fnm env --use-on-cd --shell powershell | Out-String | Invoke-Expression
```

## åŸºæœ¬ä½¿ç”¨

```shell
# å®‰è£…æœ€æ–°LTSç‰ˆæœ¬
fnm install --lts

# å®‰è£…æŒ‡å®šç‰ˆæœ¬
fnm install 22.17.0

# æŸ¥çœ‹å·²å®‰è£…ç‰ˆæœ¬
fnm list

# åˆ‡æ¢Nodeç‰ˆæœ¬
fnm use 18.12.0

# è®¾ç½®é»˜è®¤ç‰ˆæœ¬
fnm default 20.13.1

# å¸è½½æŒ‡å®šç‰ˆæœ¬
fnm uninstall 20.13.1

# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
fnm current
```

## ä¸ºé¡¹ç›®è®¾ç½®Nodeç‰ˆæœ¬

fnmæ”¯æŒä¸ºé¡¹ç›®è®¾ç½®ç‰¹å®šçš„Nodeç‰ˆæœ¬ï¼Œåªéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `.node-version` æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­æŒ‡å®šNodeç‰ˆæœ¬å³å¯ã€‚

```shell
# .node-version
v22.17.0
```

è¿™æ ·ï¼Œå½“è¿›å…¥é¡¹ç›®ç›®å½•æ—¶ï¼Œfnmä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æŒ‡å®šçš„Nodeç‰ˆæœ¬ã€‚

> fnm åŒæ—¶å…¼å®¹ `.nvmrc` æ–‡ä»¶ï¼Œå¦‚æœé¡¹ç›®ä¸­å­˜åœ¨ `.nvmrc` æ–‡ä»¶ï¼Œfnmä¹Ÿä¼šä½¿ç”¨ `.nvmrc` æ–‡ä»¶ä¸­çš„Nodeç‰ˆæœ¬ã€‚

## è¿›é˜¶æŠ€å·§ï¼šæ„å»ºå®Œæ•´ç‰ˆæœ¬ç®¡ç†ç”Ÿæ€

fnm ä»…ç®¡ç† Nodeï¼Œä½†ç»“åˆ `corepack`ï¼ˆNode 16.10+å†…ç½®ï¼‰å¯è”åŠ¨åŒ…ç®¡ç†å™¨ï¼š

1ã€åœ¨ `package.json` å£°æ˜æ‰€éœ€ç‰ˆæœ¬ï¼š

```json
{
  "packageManager": "pnpm@10.12.0"
}
```

2ã€å¯ç”¨ `corepack` å¹¶æ·»åŠ  Shell Hookï¼š

```shell
corepack enable
```

åœ¨ `.zshrc` / `.bashrc` æ·»åŠ é’©å­å‡½æ•°

```shell
function ensure_pnpm() {
    PKG_MGR_VERSION=$(jq -r '.packageManager // empty' package.json)
    if [ -n "$PKG_MGR_VERSION" ]; then
        local TOOL=${PKG_MGR_VERSION%%@*}
        local VER=${PKG_MGR_VERSION##*@}
        if [ "$TOOL" = "pnpm" ]; then
            corepack prepare pnpm@$VER --activate
        fi
    fi
}
```

æ­¤åè¿›å…¥é¡¹ç›®ç›®å½•æ—¶ï¼ŒNode å’Œ pnpm ç‰ˆæœ¬å°†è‡ªåŠ¨åŒæ­¥

## å…¶ä»–ç‰ˆæœ¬ç®¡ç†å·¥å…·

- [nvm](https://github.com/nvm-sh/nvm)ï¼šè€ç‰Œçš„Nodeç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œæ”¯æŒè·¨å¹³å°ä½¿ç”¨ï¼Œä½†æ˜¯æ‰§è¡Œé€Ÿåº¦è¾ƒæ…¢ã€‚
- [nvm-windows](https://github.com/coreybutler/nvm-windows)ï¼šnvmçš„Windowsç‰ˆæœ¬ï¼Œæ‰§è¡Œé€Ÿåº¦è¾ƒå¿«ï¼Œä½†æ˜¯ä¸æ”¯æŒLinuxå’ŒmacOSã€‚
- [volta](https://volta.sh/)ï¼šæ”¯æŒè·¨å¹³å°ä½¿ç”¨ï¼Œä½†æ˜¯æ‰§è¡Œé€Ÿåº¦è¾ƒæ…¢ï¼Œä¼˜ç‚¹æ˜¯åŒæ—¶æ”¯æŒç®¡ç† npm/pnpm/yarn çš„ç‰ˆæœ¬ã€‚
